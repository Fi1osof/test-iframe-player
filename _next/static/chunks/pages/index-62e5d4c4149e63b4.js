(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(2603)}])},2603:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return l}});var n=t(5893);t(7294);var s=t(4317);function l(){return(0,n.jsx)(s.C,{src:"/test-iframe-player.github.io/player"})}},4317:function(e,a,t){"use strict";t.d(a,{C:function(){return l}});var n=t(5893),s=t(7294);let l=e=>{let{src:a,...t}=e,[l,u]=(0,s.useState)(null),[r,o]=(0,s.useState)(0),[i,c]=(0,s.useState)(0),[d,m]=(0,s.useState)(0),[p,v]=(0,s.useState)("pause");console.log("currentTime",r),(0,s.useEffect)(()=>{let e=e=>{switch(console.log("Main window message event",e),console.log("Main window message event.data",e.data),e.data.type){case"loaded":c(e.data.duration),m(e.data.volume);break;case"timeupdate":case"seed":console.log(e.data.currentTime),o(e.data.currentTime);break;case"volumechange":console.log(e.data.volume),m(e.data.volume);break;case"play":case"pause":v(e.data.type)}};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}},[]);let g=(0,s.useCallback)(e=>{var a;null==l||null===(a=l.contentWindow)||void 0===a||a.postMessage(e,"*")},[null==l?void 0:l.contentWindow]),f=(0,s.useCallback)(()=>{g({type:"play"})},[g]),h=(0,s.useCallback)(()=>{g({type:"pause"})},[g]),w=(0,s.useCallback)(e=>{let a=parseFloat(e.currentTarget.value);console.log("onChangeVolume volume",a),g({type:"volume",volume:a})},[g]),y=(0,s.useCallback)(e=>{let a=parseFloat(e.currentTarget.value);console.log("onChangeCurrentTime currentTime",a),g({type:"seed",currentTime:a})},[g]);return(0,n.jsxs)("div",{children:[(0,n.jsx)("iframe",{src:a,ref:u,...t}),(0,n.jsxs)("div",{className:"controls",children:[(0,n.jsxs)("button",{onClick:"play"===p?h:f,children:["play"===p?"Pause":"Play"," "]}),(0,n.jsxs)("div",{children:["Volume:"," ",(0,n.jsx)("input",{type:"number",min:0,max:1,step:.1,onChange:w,value:d})]}),(0,n.jsxs)("div",{children:["Duration:"," ",(0,n.jsx)("input",{type:"number",min:0,max:1,step:.1,value:i,readOnly:!0})]}),(0,n.jsxs)("div",{children:["CurrentTime:",(0,n.jsx)("input",{type:"number",min:0,max:i,step:.1,onChange:y,value:r})]})]})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);