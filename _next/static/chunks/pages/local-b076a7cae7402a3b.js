(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[909],{3656:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/local",function(){return n(2890)}])},2890:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return l}});var t=n(5893);n(7294);var s=n(4317);function l(){return(0,t.jsx)(s.C,{src:"/player"})}},4317:function(e,a,n){"use strict";n.d(a,{C:function(){return l}});var t=n(5893),s=n(7294);let l=e=>{let{src:a,...n}=e,[l,u]=(0,s.useState)(null),[o,r]=(0,s.useState)(0),[c,i]=(0,s.useState)(0),[d,m]=(0,s.useState)(0),[p,v]=(0,s.useState)("pause");console.log("currentTime",o),(0,s.useEffect)(()=>{let e=e=>{switch(console.log("Main window message event",e),console.log("Main window message event.data",e.data),e.data.type){case"loaded":i(e.data.duration),m(e.data.volume);break;case"timeupdate":case"seed":console.log(e.data.currentTime),r(e.data.currentTime);break;case"volumechange":console.log(e.data.volume),m(e.data.volume);break;case"play":case"pause":v(e.data.type)}};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}},[]);let g=(0,s.useCallback)(e=>{var a;null==l||null===(a=l.contentWindow)||void 0===a||a.postMessage(e,"*")},[null==l?void 0:l.contentWindow]),w=(0,s.useCallback)(()=>{g({type:"play"})},[g]),f=(0,s.useCallback)(()=>{g({type:"pause"})},[g]),h=(0,s.useCallback)(e=>{let a=parseFloat(e.currentTarget.value);console.log("onChangeVolume volume",a),g({type:"volume",volume:a})},[g]),y=(0,s.useCallback)(e=>{let a=parseFloat(e.currentTarget.value);console.log("onChangeCurrentTime currentTime",a),g({type:"seed",currentTime:a})},[g]);return(0,t.jsxs)("div",{children:[(0,t.jsx)("iframe",{src:a,ref:u,...n}),(0,t.jsxs)("div",{className:"controls",children:[(0,t.jsxs)("button",{onClick:"play"===p?f:w,children:["play"===p?"Pause":"Play"," "]}),(0,t.jsxs)("div",{children:["Volume:"," ",(0,t.jsx)("input",{type:"number",min:0,max:1,step:.1,onChange:h,value:d})]}),(0,t.jsxs)("div",{children:["Duration:"," ",(0,t.jsx)("input",{type:"number",min:0,max:1,step:.1,value:c,readOnly:!0})]}),(0,t.jsxs)("div",{children:["CurrentTime:",(0,t.jsx)("input",{type:"number",min:0,max:c,step:.1,onChange:y,value:o})]})]})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=3656)}),_N_E=e.O()}]);